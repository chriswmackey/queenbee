{"title": "Operator", "description": "A Queenbee Operator.\n\nAn Operator contains runtime configuration for a Command Line Interface (CLI) and\na list of functions that can be executed using this CLI tool.", "type": "object", "properties": {"metadata": {"title": "Metadata", "description": "The Operator metadata information", "allOf": [{"$ref": "#/definitions/MetaData"}]}, "config": {"title": "Config", "description": "The configuration information to run this operator", "allOf": [{"$ref": "#/definitions/Config"}]}, "functions": {"title": "Functions", "description": "List of Operator functions", "type": "array", "items": {"$ref": "#/definitions/Function"}}}, "required": ["metadata", "config", "functions"], "definitions": {"Maintainer": {"title": "Maintainer", "description": "Maintainer information", "type": "object", "properties": {"name": {"title": "Name", "description": "The name of the author/maintainer person or organization.", "type": "string"}, "email": {"title": "Email", "description": "The email address of the author/maintainer person or organization.", "type": "string"}}, "required": ["name"]}, "MetaData": {"title": "MetaData", "description": "Operator metadata information", "type": "object", "properties": {"name": {"title": "Name", "description": "Operator name. This name should be unique among all the operators in your workflow.", "type": "string"}, "tag": {"title": "Tag", "description": "The tag of the operator", "type": "string"}, "app_version": {"title": "App Version", "description": "The version of the app binary backing the operator (CLI tool or container)", "type": "string"}, "keywords": {"title": "Keywords", "description": "A list of keywords to search the operator by", "type": "array", "items": {"type": "string"}}, "maintainers": {"title": "Maintainers", "description": "A list of maintainers for the operator", "type": "array", "items": {"$ref": "#/definitions/Maintainer"}}, "home": {"title": "Home", "description": "The URL of this operator home page", "type": "string"}, "sources": {"title": "Sources", "description": "A list of URLs to source code for this operator", "type": "array", "items": {"type": "string"}}, "icon": {"title": "Icon", "description": "A URL to an SVG or PNG image to be used as an icon", "type": "string"}, "deprecated": {"title": "Deprecated", "description": "Whether this operator is deprecated", "type": "boolean"}, "description": {"title": "Description", "description": "A description of what this operator does", "type": "string"}}, "required": ["name", "tag"]}, "DockerConfig": {"title": "DockerConfig", "description": "Operator Configuration to run in a Docker container", "type": "object", "properties": {"image": {"title": "Image", "description": "Docker image name. Must include tag.", "type": "string"}, "registry": {"title": "Registry", "description": "The container registry URLs that this container should be pulled from. Will default to Dockerhub if none is specified.", "type": "string"}, "workdir": {"title": "Workdir", "description": "The working directory the entrypoint command of the container runsin. This is used to determine where to load artifacts when running in the container.", "type": "string"}}, "required": ["image", "workdir"]}, "LocalConfig": {"title": "LocalConfig", "description": "Operator Configuration to run on a desktop.", "type": "object", "properties": {}}, "Config": {"title": "Config", "description": "Operator configuration.\n\nThe config is used to schedule functions on a desktop or in other contexts\n(ie: Docker).", "type": "object", "properties": {"docker": {"title": "Docker", "description": "The configuration to use this operator in a docker container", "allOf": [{"$ref": "#/definitions/DockerConfig"}]}, "local": {"title": "Local", "description": "The configuration to use this operator locally", "allOf": [{"$ref": "#/definitions/LocalConfig"}]}}, "required": ["docker"]}, "FunctionParameterIn": {"title": "FunctionParameterIn", "description": "A Function Parameter\n\nParameter indicate a passed string parameter to a service template with an optional\ndefault value.", "type": "object", "properties": {"name": {"title": "Name", "description": "Name is the parameter name. must be unique within a task's inputs.", "type": "string"}, "default": {"title": "Default", "description": "Default value to use for an input parameter if a value was not supplied.", "type": "string"}, "description": {"title": "Description", "description": "Optional description for input parameter.", "type": "string"}, "required": {"title": "Required", "description": "Whether this value must be specified in a task argument.", "type": "boolean"}}, "required": ["name"]}, "FunctionArtifact": {"title": "FunctionArtifact", "description": "A Function Artifact object\n\nThis indicates the path within the function context at which a certain file or folder\n(ie: artifact) can be found.", "type": "object", "properties": {"name": {"title": "Name", "description": "Name of the artifact. Must be unique within a task's inputs / outputs.", "type": "string"}, "description": {"title": "Description", "description": "Optional description for input parameter.", "type": "string"}, "path": {"title": "Path", "description": "Path to the artifact relative to the working directory where the command is executed.", "type": "string"}}, "required": ["name", "path"]}, "FunctionInputs": {"title": "FunctionInputs", "description": "The Inputs of a Function", "type": "object", "properties": {"parameters": {"title": "Parameters", "default": [], "type": "array", "items": {"$ref": "#/definitions/FunctionParameterIn"}}, "artifacts": {"title": "Artifacts", "default": [], "type": "array", "items": {"$ref": "#/definitions/FunctionArtifact"}}}}, "FunctionParameterOut": {"title": "FunctionParameterOut", "description": "A Function Artifact object\n\nThis indicates the path within the function context at which a certain file or folder\n(ie: artifact) can be found.", "type": "object", "properties": {"name": {"title": "Name", "description": "Name of the artifact. Must be unique within a task's inputs / outputs.", "type": "string"}, "description": {"title": "Description", "description": "Optional description for input parameter.", "type": "string"}, "path": {"title": "Path", "description": "Path to the artifact relative to the working directory where the command is executed.", "type": "string"}}, "required": ["name", "path"]}, "FunctionOutputs": {"title": "FunctionOutputs", "description": "The Outputs of a Function", "type": "object", "properties": {"parameters": {"title": "Parameters", "default": [], "type": "array", "items": {"$ref": "#/definitions/FunctionParameterOut"}}, "artifacts": {"title": "Artifacts", "default": [], "type": "array", "items": {"$ref": "#/definitions/FunctionArtifact"}}}}, "Function": {"title": "Function", "description": "A Function with a single command", "type": "object", "properties": {"name": {"title": "Name", "description": "Function name. Must be unique within an operator.", "type": "string"}, "description": {"title": "Description", "description": "Function description. A short human readable description for this function.", "type": "string"}, "inputs": {"title": "Inputs", "description": "Input arguments for this function.", "default": {"parameters": [], "artifacts": []}, "allOf": [{"$ref": "#/definitions/FunctionInputs"}]}, "command": {"title": "Command", "description": "Full shell command for this function. Each function accepts only one command. The command will be executed as a shell command in operator. For running several commands after each other use && between the commands or pipe data from one to another using |", "type": "string"}, "outputs": {"title": "Outputs", "description": "List of output arguments.", "default": {"parameters": [], "artifacts": []}, "allOf": [{"$ref": "#/definitions/FunctionOutputs"}]}}, "required": ["name", "command"]}}}